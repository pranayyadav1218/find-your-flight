(this["webpackJsonpfind-your-flight"]=this["webpackJsonpfind-your-flight"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(9),s=n.n(r),i=(n(14),n(15),n(2)),o=n(0);var u=function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:Object(o.jsxs)("small",{children:["Select Airport ",Object(o.jsx)("i",{children:"(required)"}),": "]})}),Object(o.jsxs)("select",{value:e.value,onChange:e.onChange,children:[Object(o.jsx)("option",{value:"-",children:"-"}),e.places.map((function(e,t){return Object(o.jsx)("option",{value:e.PlaceId,children:e.PlaceName},t)}))]})]})},l=n(8),d=n(3),b=n.n(d),j=n(6);function h(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],s=c;return Object(a.useEffect)((function(){var t={method:"GET",headers:{"x-rapidapi-key":"a80276efe6mshdba99d004ae62b1p11b87cjsn61b6448bc521","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com",useQueryString:!0}};function n(){return(n=Object(j.a)(b.a.mark((function n(){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/autosuggest/v1.0/US/USD/en-US/?"+new URLSearchParams({query:e}),t);case 2:return a=n.sent,n.next=5,a.json();case 5:a=n.sent,r(a.Places);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}""!==e&&function(){n.apply(this,arguments)}()}),[e]),s}function O(e,t,n,c,r,s){var o=Object(a.useState)([]),u=Object(i.a)(o,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){var a={method:"GET",headers:{"x-rapidapi-key":"a80276efe6mshdba99d004ae62b1p11b87cjsn61b6448bc521","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}};function i(){return(i=Object(j.a)(b.a.mark((function i(){var o;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsedates/v1.0/US/".concat(s,"/en-US/").concat(t,"/").concat(n,"/").concat(c,"/").concat(r),a).catch((function(e){console.log("ERROR: "+e)}));case 2:return o=i.sent,i.next=5,o.json().then((function(t){switch(e){case"Quotes":d(t.Quotes);break;case"Carriers":d(t.Carriers);break;case"Places":d(t.Places);break;case"Currencies":d(t.Currencies);break;case"OutboundDates":void 0!==t.Dates&&d(t.Dates.OutboundDates);break;case"InboundDates":void 0!==t.Dates&&d(t.Dates.InboundDates)}d((function(e){return e}))}));case 5:case"end":return i.stop()}}),i)})))).apply(this,arguments)}""!==t&&""!==n&&void 0!==t&&void 0!==n&&void 0!==s&&"-"!==t&&"-"!==n&&(10===c.length||"anytime"===c)?function(){i.apply(this,arguments)}():d([])}),[e,t,n,c,r,s]),l}function p(e,t,n,c,r,s){var o=Object(a.useState)([]),u=Object(i.a)(o,2),l=u[0],d=u[1];return Object(a.useEffect)((function(){if(void 0!==e){var a=[];e.forEach((function(e){var r={OutboundCarrier:"",OutboundOrigin:"",OutboundDestination:"",OutboundDepartureDate:"",InboundCarrier:"",InboundOrigin:"",InboundDestination:"",InboundDepartureDate:"",PriceSymbol:"",Price:"",Direct:""};void 0!==t&&t.forEach((function(t){t.CarrierId===e.OutboundLeg.CarrierIds[0]&&(r.OutboundCarrier=t.Name),void 0!==e.InboundLeg&&t.CarrierId===e.InboundLeg.CarrierIds[0]&&(r.InboundCarrier=t.Name)})),void 0!==n&&n.forEach((function(t){t.PlaceId===e.OutboundLeg.OriginId&&(r.OutboundOrigin=t.Name),t.PlaceId===e.OutboundLeg.DestinationId&&(r.OutboundDestination=t.Name),void 0!==e.InboundLeg&&(t.PlaceId===e.InboundLeg.OriginId&&(r.InboundOrigin=t.Name),t.PlaceId===e.InboundLeg.DestinationId&&(r.InboundDestination=t.Name))})),void 0!==e.OutboundLeg&&(r.OutboundDepartureDate=e.OutboundLeg.DepartureDate.substring(0,10),r.Direct=e.Direct?"Yes":"No"),void 0!==e.InboundLeg&&(r.InboundDepartureDate=e.InboundLeg.DepartureDate.substring(0,10)),r.PriceSymbol=void 0!==c&&void 0!==c[0]?1===c[0].Symbol.length?c[0].Symbol:c[0].Symbol+" ":"",r.Price=void 0!==e.MinPrice?e.MinPrice:"",a=a.concat([r]),d(a)})),r||d(function(e,t){return g(e,t?0:1)}(a,r))}}),[e,t,n,c,r,s]),l}function g(e,t){var n=e.length/2;return e.length<2?e:function(e,t,n){for(var a=[];0!==e.length&&0!==t.length;)switch(n){case 0:e[0].Price<t[0].Price?a.push(e.shift()):a.push(t.shift());break;case 1:e[0].Price>t[0].Price?a.push(e.shift()):a.push(t.shift())}return[].concat(a,Object(l.a)(e),Object(l.a)(t))}(g(e.splice(0,n),t),g(e,t),t)}var m=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),d=l[0],O=l[1],p=h(c),g=Object(a.useState)(""),m=Object(i.a)(g,2),f=m[0],v=m[1],x=h(f),D=Object(a.useState)(!1),I=Object(i.a)(D,2),y=I[0],S=I[1],w=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e={method:"GET",headers:{"x-rapidapi-key":"a80276efe6mshdba99d004ae62b1p11b87cjsn61b6448bc521","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}};function t(){return(t=Object(j.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/reference/v1.0/currencies",e);case 2:return n=t.sent,t.next=5,n.json();case 5:n=t.sent,c(n.Currencies);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n}(),C=(new Date).toISOString().substring(0,10);return Object(o.jsx)("div",{className:"FlightInfoForm",children:Object(o.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("label",{children:["Search Origin: ",Object(o.jsx)("input",{value:c,onChange:function(e){e.preventDefault(),r(e.target.value),""!==e.target.value?O(!0):O(!1)}})]}),d?Object(o.jsx)(u,{places:p,value:e.origin,onChange:function(t){e.setOrigin(t.target.value)}}):Object(o.jsx)(o.Fragment,{})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{children:["Search Destination: ",Object(o.jsx)("input",{value:f,onChange:function(e){e.preventDefault(),v(e.target.value),""!==e.target.value?S(!0):S(!1)}}),y?Object(o.jsx)(u,{places:x,value:e.destination,onChange:function(t){e.setDestination(t.target.value)}}):Object(o.jsx)(o.Fragment,{})]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{children:["Departure Date: ",Object(o.jsx)("input",{type:"date",value:e.outboundDate,min:C,max:e.inboundDate,onChange:function(t){""!==t.target.value?e.setOutboundDate(t.target.value):e.setOutboundDate("anytime")}})," ",Object(o.jsx)("i",{children:"(optional)"})]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("label",{children:["Return Date: ",Object(o.jsx)("input",{type:"date",value:e.inboundDate,min:e.outboundDate,onChange:function(t){e.setInboundDate(t.target.value)}})," ",Object(o.jsx)("i",{children:"(optional)"})]})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Choose Currency: "}),Object(o.jsxs)("select",{value:e.currency,onChange:function(t){e.setCurrency(t.target.value)},children:[Object(o.jsx)("option",{children:"USD"}),void 0!==w?w.map((function(e){return Object(o.jsx)("option",{value:e.Code,children:e.Code},e.Code)})):Object(o.jsx)(o.Fragment,{})]})]})]})})};n(18);var f=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){r(!1),e.allFlights.forEach((function(e){""!==e.InboundCarrier&&r(!0)}))}),[e.allFlights]),Object(o.jsx)("div",{children:void 0!==e.allFlights?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("table",{className:"FlightTable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{className:"TableHead",children:[Object(o.jsx)("th",{className:"RowItem",children:"Outbound Flight"}),Object(o.jsx)("th",{className:"RowItem",children:"From"}),Object(o.jsx)("th",{className:"RowItem",children:"To"}),Object(o.jsx)("th",{className:"RowItem",children:"Departure Date"}),c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("th",{className:"RowItem",children:"Return Flight"}),Object(o.jsx)("th",{className:"RowItem",children:"From"}),Object(o.jsx)("th",{className:"RowItem",children:"To"}),Object(o.jsx)("th",{className:"RowItem",children:"Departure Date"})]}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("th",{className:"RowItem",children:"Direct Flight?"}),Object(o.jsxs)("th",{className:"RowItem",children:[Object(o.jsx)("label",{children:"Price "}),Object(o.jsxs)("select",{className:"pull-right",onChange:e.handleSortSelect,style:{float:"right",width:"90px",minWidth:"10%",backgroundColor:"#57617d",color:"white",border:"none",padding:"2%",fontSize:"10px"},children:[Object(o.jsx)("option",{value:"true",children:"Low to High"}),Object(o.jsx)("option",{value:"false",children:"High to Low"})]})]})]})}),Object(o.jsx)("tbody",{children:e.allFlights.map((function(t,n){var a={backgroundColor:"",border:""};return e.sortLowToHigh&&0===n?a={backgroundColor:"antiquewhite",border:"4px solid limegreen"}:e.sortLowToHigh||n!==e.allFlights.length-1||(a={backgroundColor:"antiquewhite",border:"4px solid limegreen"}),Object(o.jsxs)("tr",{className:"TableRow",style:a,children:[Object(o.jsx)("td",{className:"RowItem",children:t.OutboundCarrier}),Object(o.jsx)("td",{className:"RowItem",children:t.OutboundOrigin}),Object(o.jsx)("td",{className:"RowItem",children:t.OutboundDestination}),Object(o.jsx)("td",{className:"RowItem",children:t.OutboundDepartureDate}),c?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("td",{className:"RowItem",children:t.InboundCarrier}),Object(o.jsx)("td",{className:"RowItem",children:t.InboundOrigin}),Object(o.jsx)("td",{className:"RowItem",children:t.InboundDestination}),Object(o.jsx)("td",{className:"RowItem",children:t.InboundDepartureDate})]}):Object(o.jsx)(o.Fragment,{}),Object(o.jsx)("td",{className:"RowItem",children:t.Direct}),Object(o.jsx)("td",{className:"RowItem",children:t.PriceSymbol+""+t.Price})]},n)}))})]})}):Object(o.jsx)("p",{children:"No Flights Available"})})};var v=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),u=s[0],l=s[1],d=Object(a.useState)("anytime"),b=Object(i.a)(d,2),j=b[0],h=b[1],g=Object(a.useState)(""),v=Object(i.a)(g,2),x=v[0],D=v[1],I=Object(a.useState)("USD"),y=Object(i.a)(I,2),S=y[0],w=y[1],C=Object(a.useState)(!1),N=Object(i.a)(C,2),F=N[0],k=N[1],P=Object(a.useState)(!0),R=Object(i.a)(P,2),L=R[0],E=R[1],T=O("Quotes",n,u,j,x,S),U=O("Carriers",n,u,j,x,S),A=O("Places",n,u,j,x,S),H=O("Currencies",n,u,j,x,S),M=p(T,U,A,H,L,S);return Object(a.useEffect)((function(){T===[]||void 0===T||0===T.length?k(!1):k(!0)}),[T]),Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{origin:n,setOrigin:c,destination:u,setDestination:l,outboundDate:j,setOutboundDate:h,inboundDate:x,setInboundDate:D,currency:S,setCurrency:w,onSubmit:function(e){e.preventDefault();var t=T!==[]&&void 0!==T&&U!==[]&&void 0!==U&&A!==[]&&void 0!==A&&0!==T.length;k(t)}}),F?Object(o.jsx)(f,{allFlights:M,sortLowToHigh:L,handleSortSelect:function(e){"true"===e.target.value?E(!0):"false"===e.target.value&&E(!1)}}):Object(o.jsx)(o.Fragment,{}),n.length>1&&u.length>1&&!F?Object(o.jsx)("p",{children:"No Flights Available"}):Object(o.jsx)(o.Fragment,{})]})};var x=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("div",{className:"App-header",children:Object(o.jsxs)("p",{children:["Find ",Object(o.jsx)("i",{children:"your"})," Flight!"]})}),Object(o.jsx)("div",{children:Object(o.jsx)(v,{})}),Object(o.jsx)("div",{className:"App-footer",children:Object(o.jsx)("p",{children:"Made by Pranay Yadav using the Skyscanner API, March 2021"})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(x,{})}),document.getElementById("root")),D()}},[[19,1,2]]]);
//# sourceMappingURL=main.7eff94f5.chunk.js.map